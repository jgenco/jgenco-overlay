based on https://gitlab.alpinelinux.org/alpine/aports/-/blob/master/community/deno/unbundle-ca-certs.patch
--- a/Cargo.lock
+++ b/Cargo.lock
@@ -2723,6 +2723,7 @@ dependencies = [
  "deno_core",
  "deno_error",
  "deno_native_certs",
+ "log",
  "rustls",
  "rustls-pemfile",
  "rustls-tokio-stream",
@@ -2730,7 +2731,6 @@ dependencies = [
  "serde",
  "thiserror 2.0.12",
  "tokio",
- "webpki-roots",
 ]
 
 [[package]]
--- a/cli/args/flags.rs
+++ b/cli/args/flags.rs
@@ -1211,7 +1211,7 @@ static ENV_VARIABLES_HELP: &str = cstr!(
   <g>DENO_SERVE_ADDRESS</>     Override address for Deno.serve
                          Example: "tcp:0.0.0.0:8080", "unix:/tmp/deno.sock", or "vsock:1234:5678"
   <g>DENO_TLS_CA_STORE</>      Comma-separated list of order dependent certificate stores.
-                         Possible values: "system", "mozilla" <p(245)>(defaults to "mozilla")</>
+                         Possible values: "system" <p(245)>(defaults to "system")</>
   <g>DENO_TRACE_PERMISSIONS</> Environmental variable to enable stack traces in permission prompts.
   <g>FORCE_COLOR</>            Set force color output even if stdout isn't a tty
   <g>HTTP_PROXY</>             Proxy address for HTTP requests
--- a/cli/lib/args.rs
+++ b/cli/lib/args.rs
@@ -14,7 +14,6 @@ use deno_runtime::deno_tls::deno_native_certs::load_native_certs;
 use deno_runtime::deno_tls::rustls;
 use deno_runtime::deno_tls::rustls::RootCertStore;
 use deno_runtime::deno_tls::rustls_pemfile;
-use deno_runtime::deno_tls::webpki_roots;
 use deno_semver::npm::NpmPackageReqReference;
 use serde::Deserialize;
 use serde::Serialize;
@@ -52,9 +51,7 @@ pub enum CaData {
 #[derive(Error, Debug, Clone, deno_error::JsError)]
 #[class(generic)]
 pub enum RootCertStoreLoadError {
-  #[error(
-    "Unknown certificate store \"{0}\" specified (allowed: \"system,mozilla\")"
-  )]
+  #[error("Unknown certificate store \"{0}\" specified (allowed: \"system\")")]
   UnknownStore(String),
   #[error("Unable to add pem file to certificate store: {0}")]
   FailedAddPemFile(String),
@@ -83,14 +80,19 @@ pub fn get_root_cert_store(
           .collect(),
       )
     })
-    .unwrap_or_else(|| vec!["mozilla".to_string()]);
+    .unwrap_or_else(|| vec!["system".to_string()]);
 
   for store in ca_stores.iter() {
     match store.as_str() {
-      "mozilla" => {
-        root_cert_store.extend(webpki_roots::TLS_SERVER_ROOTS.to_vec());
-      }
-      "system" => {
+      "mozilla" | "system" => {
+        if store == "mozilla" {
+          log::info!(
+            "DENO_TLS_CA_STORE=mozilla is not supported when deno is built with USE=\"sys-libraries\", using \"system\""
+          );
+          if ca_stores.contains(&"system".to_string()) {
+            continue;
+          }
+        }
         let roots = load_native_certs().map_err(|err| {
           RootCertStoreLoadError::FailedNativeCerts(err.to_string())
         })?;
--- a/ext/tls/Cargo.toml
+++ b/ext/tls/Cargo.toml
@@ -24,4 +24,5 @@ rustls-webpki.workspace = true
 serde.workspace = true
 thiserror.workspace = true
 tokio.workspace = true
-webpki-roots.workspace = true
+log.workspace = true
+
--- a/ext/tls/lib.rs
+++ b/ext/tls/lib.rs
@@ -26,7 +26,6 @@ use rustls_pemfile::rsa_private_keys;
 pub use rustls_tokio_stream::*;
 use serde::Deserialize;
 pub use webpki;
-pub use webpki_roots;
 
 mod tls_key;
 pub use tls_key::*;
@@ -174,9 +173,22 @@ pub struct BasicAuth {
 }
 
 pub fn create_default_root_cert_store() -> RootCertStore {
-  let root_cert_store = rustls::RootCertStore {
-    roots: webpki_roots::TLS_SERVER_ROOTS.to_vec(),
-  };
+  let mut root_cert_store = RootCertStore::empty();
+  let r = deno_native_certs::load_native_certs();
+  match r {
+    Ok(roots) => {
+      for root in roots {
+        if let Err(err) = root_cert_store
+          .add(rustls::pki_types::CertificateDer::from(root.0.clone()))
+        {
+          log::error!("{}", err)
+        }
+      }
+    }
+    Err(err) => {
+      log::error!("{}", err)
+    }
+  }
   debug_assert!(!root_cert_store.is_empty());
   root_cert_store
 }
